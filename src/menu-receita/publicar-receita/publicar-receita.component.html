<form class="compact" name="publicar">
    <wizard>
        <wizard-step title="Informações" optionalStep>
            <section class="form-block">
                <label>Informações</label>
                <div class="form-group">
                    <label for="nome" class="required">Nome da Receita: </label>
                    <input type="text" id="nome" required name="nome" [(ngModel)]="receita.nome" placeholder="Nome da receita">
                </div>
                <div class="form-group">
                    <label class="required">Tempo de Preparo (Minutos): </label>
                    <input type="number" name="minsPreparo" [(ngModel)]="receita.minsPreparo" placeholder="Tempo de Preparo (Minutos)">
                </div>
                <div class="form-group">
                    <label class="required">Categoria da Receita: </label>
                    <div class="select">
                        <select name="receita.categoria" [(ngModel)]="receita.categoria">
                                <option selected disabled>Selecione</option>
                                <option [ngValue]="cat" *ngFor="let cat of categorias">{{cat.nome}}</option>  
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Imagem: </label>
                    <input type="file">
                </div>
                <div class="form-group">
                    <label class="required">Descrição da Receita: </label>
                    <textarea name="receita.descricao" [(ngModel)]="receita.descricao" rows="3"></textarea>
                </div>
            </section>

            <button type="button" class="btn btn-secondary" previousStep>Voltar</button>
            <button type="button" class="btn btn-primary" nextStep>Proximo</button>

        </wizard-step>
        <wizard-step title="Ingredientes" optionalStep>
            <div class="row">
                <div class="col-sm-12 col-md-5">
                    <section class="form-block">
                        <label>Adicionar Ingrediente</label>
                        <div class="form-group">
                            <label>Ingrediente: </label>
                            <ng2-completer name="ingredienteCad.ingrediente" [(ngModel)]="ingredienteCad.ingrediente" type="text" textNoResults="Ingrediente não encontrado"
                                class="input" [datasource]="dataService" [minSearchLength]="0"></ng2-completer>
                        </div>
                        <div class="form-group">
                            <label class="required">Unidade de Medida: </label>
                            <div class="select">
                                <select name="ingredienteCad.uMedida" [(ngModel)]="ingredienteCad.uMedida">
                                            <option selected disabled>Selecione</option>
                                            <option [ngValue]="med" *ngFor="let med of medidas">{{med.desc}}</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Quantidade: </label>
                            <input name="ingredienteCad.quant" [(ngModel)]="ingredienteCad.quant" type="number" placeholder="Digite a quantidade">
                        </div>
                        <button class="btn btn-primary btn-sm" (click)="adicionarIngrediente()">Adicionar</button>
                        <button class="btn btn-outline btn-sm" (click)="limparIngrediente()">Limpar</button>

                        <div class="alert alert-danger">
                            <div class="alert-items">
                                <div class="alert-item static">
                                    <div class="alert-icon-wrapper">
                                        <clr-icon class="alert-icon" shape="exclamation-circle"></clr-icon>
                                    </div>
                                    <span class="alert-text">
                                            Ingrediente já cadastrado!
                                        </span>
                                </div>
                            </div>
                            <button type="button" class="close" aria-label="Close">
                                    <clr-icon aria-hidden="true" shape="close"></clr-icon>
                                </button>
                        </div>

                    </section>
                </div>
                <div class="col-sm-12 col-md-1"></div>
                <div class="col-sm-12 col-md-5">
                    <section class="form-block">

                        <label>Ingredientes Cadastrados</label>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Unidade de Medida</th>
                                    <th>Quantidade</th>
                                    <th>Ação</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let ingt of receita.ingts">
                                    <td>{{ingt.ingrediente}}</td>
                                    <td>{{ingt.uMedida.desc}}</td>
                                    <td>{{ingt.quant}}</td>
                                    <td>
                                        <clr-icon shape="trash"></clr-icon>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </section>
                </div>
            </div>
            <div class="row">
                <button type="button" class="btn btn-secondary" previousStep>Voltar</button>
                <button type="button" class="btn btn-primary" nextStep>Proximo</button>
            </div>

        </wizard-step>
        <wizard-step title="Etapas" optionalStep>
            <button class="btn btn-primary btn-block" (click)="modalEtapa = true;">Inserir uma Etapa*</button>
            <table class="table">
                <thead>
                    <tr>
                        <th>Nome da Etapa</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>MASSA</td>
                        <td>
                            <button class="btn btn-icon btn-primary btn-sm" (click)="modalPasso = true;">
                                    <clr-icon shape="note"></clr-icon>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>COBERTURA</td>
                        <td>
                            <button class="btn btn-icon btn-primary btn-sm" (click)="modalPasso = true;">
                                    <clr-icon shape="note"></clr-icon>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button type="button" class="btn btn-secondary" previousStep>Voltar</button>
            <button type="button" class="btn btn-primary" nextStep>Proximo</button>
        </wizard-step>
        <wizard-step title="Publicar">
            <div class="container">
                Resumo da receita....
            </div>
            <button type="button" class="btn btn-secondary" previousStep>Voltar</button>
            <button type="button" class="btn btn-primary" (click)="finishFunction()">Publicar</button>
        </wizard-step>
    </wizard>

    <clr-modal [(clrModalOpen)]="modalEtapa">
        <h3 class="modal-title">Cadastrar Etapa</h3>
        <div class="modal-body">
            <section class="form-block">
                <div class="form-group">
                    <label>Descrição: </label>
                    <textarea rows="5"></textarea>
                </div>
                <div class="form-group">
                    <label>Tipo: </label>
                    <div class="select">
                        <select>
                            <option value="cat1">cat1</option>
                        </select>
                    </div>
                </div>
            </section>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-outline" (click)="basic = false">Cancel</button>
            <button type="button" class="btn btn-primary" (click)="modalEtapa = false; modalPasso = true;">Ok</button>
        </div>
    </clr-modal>

    <clr-modal [(clrModalOpen)]="modalPasso">
        <h3 class="modal-title">Cadastrar Passo*</h3>
        <div class="modal-body">
            <section class="form-block">
                <div class="form-group">
                    <label>Descrição: </label>
                    <textarea rows="5"></textarea>
                </div>
                <div class="form-group">
                    <label>Tipo: </label>
                    <div class="select">
                        <select>
                            <option value="cat1">cat1</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Quantidade em Minutos: </label>
                    <input type="number" placeholder="Digite a Quantidade em Minutos">
                </div>
            </section>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-outline" (click)="basic = false">Cancel</button>
            <button type="button" class="btn btn-primary" (click)="basic = false">Ok</button>
        </div>
    </clr-modal>
</form>
{{receita | json}}